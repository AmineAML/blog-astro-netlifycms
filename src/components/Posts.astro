---
	import Default from './Default.svelte';
	import { apiUrl } from '../lib/variables.js';

	// const response = await fetch(`${apiUrl}/topics`);
	// const data = await response.json();

	// const responseArt = await fetch(`${apiUrl}/articles`);
	// const dataArt = await responseArt.json();

	// export let collection: any

	// const { collection } = Astro.props

	// export async function createCollection() {
	// 	return {
	// 		/** Load posts, sort newest -> oldest */
	// 		async data() {
	// 			const allPosts = Astro.fetchContent('./posts/*.md')
	// 			return allPosts//.sort((a, b) => new Date(b.date) - new Date(a.date))
	// 		},

	// 		/** Set page size */
	// 		pageSize: 10,
	// 	}
	// }
 
	// const posts = await Astro.glob('/src/pages/posts/.*md');

	const posts = await Astro.glob('/src/pages/posts/*.md');

	console.log(posts)
---

<main class="container mx-auto px-4 max-w-xl">
	<!-- <Default data={[{ name: 'all' },...posts]} dataArt={posts} dataArtAsCopy={posts} client:load /> -->
	{posts.map((post) => (
			post['frontmatter']['title']
        // <PostPreview post={post} />
    ))}
</main>